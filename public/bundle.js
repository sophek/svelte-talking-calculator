var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function i(t){t.parentNode.removeChild(t)}function l(t){return document.createElement(t)}function u(t){return document.createTextNode(t)}function f(){return u(" ")}function p(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}let d;function h(t){d=t}function y(t){(function(){if(!d)throw new Error("Function called outside component initialization");return d})().$$.on_mount.push(t)}const m=[],g=[],b=[],$=[],v=Promise.resolve();let k=!1;function w(t){b.push(t)}function x(){const t=new Set;do{for(;m.length;){const t=m.shift();h(t),j(t.$$)}for(;g.length;)g.pop()();for(let e=0;e<b.length;e+=1){const n=b[e];t.has(n)||(n(),t.add(n))}b.length=0}while(m.length);for(;$.length;)$.pop()();k=!1}function j(t){t.fragment&&(t.update(t.dirty),r(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(w))}const O=new Set;let S;function _(t,e){t&&t.i&&(O.delete(t),t.i(e))}function N(t,n,a){const{fragment:c,on_mount:s,on_destroy:i,after_update:l}=t.$$;c.m(n,a),w(()=>{const n=s.map(e).filter(o);i?i.push(...n):r(n),t.$$.on_mount=[]}),l.forEach(w)}function C(t,e){t.$$.fragment&&(r(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function E(t,e){t.$$.dirty||(m.push(t),k||(k=!0,v.then(x)),t.$$.dirty=n()),t.$$.dirty[e]=!0}function A(e,o,a,c,s,i){const l=d;h(e);const u=o.props||{},f=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:n(),dirty:null};let p=!1;var y;f.ctx=a?a(e,u,(t,n)=>{f.ctx&&s(f.ctx[t],f.ctx[t]=n)&&(f.bound[t]&&f.bound[t](n),p&&E(e,t))}):u,f.update(),p=!0,r(f.before_update),f.fragment=c(f.ctx),o.target&&(o.hydrate?f.fragment.l((y=o.target,Array.from(y.childNodes))):f.fragment.c(),o.intro&&_(e.$$.fragment),N(e,o.target,o.anchor),x()),h(l)}class M{$destroy(){C(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}var q=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var T=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,r,o=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),a=1;a<arguments.length;a++){for(var c in n=Object(arguments[a]))P.call(n,c)&&(o[c]=n[c]);if(q){r=q(n);for(var s=0;s<r.length;s++)F.call(n,r[s])&&(o[r[s]]=n[r[s]])}}return o},z=String.prototype.valueOf,I=Object.prototype.toString,L="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,Z=function(t){return"string"==typeof t||"object"==typeof t&&(L?function(t){try{return z.call(t),!0}catch(t){return!1}}(t):"[object String]"===I.call(t))};const B={symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3,stripZeros:!1,fallback:0};function U(t,e){var n,r;n=e,r=B.precision,n=Math.round(Math.abs(n)),e=isNaN(n)?r:n;const o=Math.pow(10,e);return(Math.round((t+1e-8)*o)/o).toFixed(e)}function D(t,e={}){if(Array.isArray(t))return t.map(t=>D(t,e));e=T({},B,e);const n=(r=e.format,Z(r)&&r.match("%v")?{pos:r,neg:r.replace("-","").replace("%v","-%v"),zero:r}:r);var r;let o;return(o=t>0?n.pos:t<0?n.neg:n.zero).replace("%s",e.symbol).replace("%v",function t(e,n={}){if(Array.isArray(e))return e.map(e=>t(e,n));n=T({},B,n);const r=e<0?"-":"",o=parseInt(U(Math.abs(e),n.precision),10)+"",a=o.length>3?o.length%3:0,c=r+(a?o.substr(0,a)+n.thousand:"")+o.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+n.thousand)+(n.precision>0?n.decimal+U(Math.abs(e),n.precision).split(".")[1]:"");return n.stripZeros?function(t,e){const n=t.split(e),r=n[0],o=n[1].replace(/0+$/,"");return o.length>0?r+e+o:r}(c,n.decimal):c}(Math.abs(t),e))}function G(t,e,n){const r=Object.create(t);return r.key=e[n],r}function H(t){var e,n,r,o,a=t.key;return{c(){var c,s,i,d;e=l("button"),n=u(a),r=f(),p(e,"class",(""===t.operatorString(t.key)?"button is-primary":"button is-warning")+" svelte-n1xoh0"),c=e,s="click",i=""===t.operatorString(t.key)?t.append(t.key):t.functionFactory(t.key),c.addEventListener(s,i,d),o=(()=>c.removeEventListener(s,i,d))},m(t,o){s(t,e,o),c(e,n),c(e,r)},p(e,n){t=n},d(t){t&&i(e),o()}}}function J(e){for(var n,r,o,a,d,h,y,m,g,b,$,v,k=e.keys,w=[],x=0;x<k.length;x+=1)w[x]=H(G(e,k,x));return{c(){n=l("div"),r=l("div"),o=l("div"),a=l("div"),(d=l("h2")).textContent="Talking calculator",h=f(),y=l("h1"),m=u(e.display),g=f(),b=l("div"),$=l("div"),v=l("div");for(var t=0;t<w.length;t+=1)w[t].c();p(y,"class","display svelte-n1xoh0"),p(a,"class","column"),p(o,"class","columns"),p(v,"class","keypad svelte-n1xoh0"),p($,"class","column"),p(b,"class","columns"),p(r,"class","column"),p(n,"class","columns calculator svelte-n1xoh0")},m(t,e){s(t,n,e),c(n,r),c(r,o),c(o,a),c(a,d),c(a,h),c(a,y),c(y,m),c(r,g),c(r,b),c(b,$),c($,v);for(var i=0;i<w.length;i+=1)w[i].m(v,null)},p(t,e){var n,r;if(t.display&&(n=m,r=""+(r=e.display),n.data!==r&&(n.data=r)),t.operatorString||t.keys){k=e.keys;for(var o=0;o<k.length;o+=1){const n=G(e,k,o);w[o]?w[o].p(t,n):(w[o]=H(n),w[o].c(),w[o].m(v,null))}for(;o<w.length;o+=1)w[o].d(1);w.length=k.length}},i:t,o:t,d(t){t&&i(n),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(w,t)}}}function K(t,e,n){let r=null,o=0,a=null,c=!1,s=0;const i=()=>{a=((t,e)=>t/e),r=o,c=!0},l=()=>{a=((t,e)=>t*e),r=o,c=!0},u=()=>{a=((t,e)=>t-e),r=o,c=!0},f=()=>{console.log("add"),a=((t,e)=>t+e),r=o,c=!0},p=()=>{console.log("equal"),n("display",o=a(Number(r),Number(o))),h(D(o)),r=null,c=!0},d=()=>{const t=o="";return n("display",o),t},h=t=>{if("speechSynthesis"in window){var e=new SpeechSynthesisUtterance(t);window.speechSynthesis.speak(e)}};return y(async()=>{}),{display:o,keys:["AC","+/-","%","รท",7,8,9,"x",4,5,6,"-",1,2,3,"+",0,".","C","="],append:t=>()=>{o.toString().indexOf(".")>-1&&(s+=1),s>1&&"."===t||(!0===c&&(n("display",o=""),c=!1),n("display",o=0===o?o=t:""+o+t),n("display",o),console.log("operatorClicked",c))},functionFactory:t=>()=>{h(D(o));let e="";switch(t){case"AC":e=d();break;case"+":e=f(),h("plus");break;case"x":e=l(),h("times");break;case"รท":e=i(),h("divide by");break;case"-":e=u(),h("subtract");break;case"=":h("equal"),e=p();break;case"C":h("clear"),e=d();break;case"%":h("percent"),e=void n("display",o/=100);break;case"+/-":n("display",o=o-=2*o),e=void n("display",o);break;default:e=""}return""!==e&&(s=0),e},operatorString:t=>"."===t?"":isNaN(t)?t:""}}class Q extends M{constructor(t){super(),A(this,t,K,J,a,[])}}function R(e){var n,r=new Q({});return{c(){r.$$.fragment.c()},m(t,e){N(r,t,e),n=!0},p:t,i(t){n||(_(r.$$.fragment,t),n=!0)},o(t){!function(t,e,n,r){if(t&&t.o){if(O.has(t))return;O.add(t),S.c.push(()=>{O.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}(r.$$.fragment,t),n=!1},d(t){C(r,t)}}}function V(t,e,n){let{name:r}=e;return t.$set=(t=>{"name"in t&&n("name",r=t.name)}),{name:r}}return new class extends M{constructor(t){super(),A(this,t,V,R,a,["name"])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
